html
	include includes/header.pug

	body
		div.container
			div#login
				h1 Welcome to Spotify Jukebox
				a.btn.btn-primary(href="/login") Log in with Spotify
			div#loggedin
				div#user-profile
				div#oauth
				button.btn.btn-default#obtain-new-token Obtain new token using the refresh token

		//- html because script inserts this in frontend
		script#user-profile-template(type='text/x-handlebars-template').
			<h1>Logged in as {{display_name}}</h1>
			<div class="media">
				<div class="pull-left">
					<img class="media-object" width="150" src="{{images.0.url}}" />
				</div>
				<div class="media-body">
					<dl class="dl-horizontal">
						<dt>Display name</dt><dd class="clearfix">{{display_name}}</dd>
						<dt>Id</dt><dd>{{id}}</dd>
						<dt>Email</dt><dd>{{email}}</dd>
						<dt>Spotify URI</dt><dd><a href="{{external_urls.spotify}}">{{external_urls.spotify}}</a></dd>
						<dt>Link</dt><dd><a href="{{href}}">{{href}}</a></dd>
						<dt>Profile Image</dt><dd class="clearfix"><a href="{{images.0.url}}">{{images.0.url}}</a></dd>
						<dt>Country</dt><dd>{{country}}</dd>
					</dl>
				</div>
			</div>

		script#oauth-template(type='text/x-handlebars-template').
			<h2>oAuth info</h2>
			<dl class="dl-horizontal">
				<dt>Access token</dt><dd class="text-overflow">{{access_token}}</dd>
				<dt>Refresh token</dt><dd class="text-overflow">{{refresh_token}}</dd>
			</dl>

		include includes/footer.pug
